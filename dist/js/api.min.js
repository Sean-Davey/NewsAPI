var apiPath="https://newsapi.org/v2/",category="everything?q=",apiQuery="everything",country="",pageSize="&pageSize=3";const apiKey="&apiKey=30d24c47ec594157b6f4ce2f2cbb1588";var dataSize=3,topic="World Headlines",searchValue="",offlineSVG="offlineImage.svg";function accept(){if("undefined"!=typeof Storage){var e=window.localStorage;e.getItem("return_user")?console.log("Return User"):(console.log("New User"),e.setItem("return_user",!0),console.log(e))}else alert("Local storage is not enabled or supported")}function newsRequest(){var e=apiPath+category+apiQuery+country+pageSize+apiKey;console.log(e),$.ajax({type:"GET",dataType:"json",cache:!0,url:e,success:function(e){var a=Object.keys(e.articles);console.dir(e),$(".c-news-card-title").html(topic),localStorage.getItem("worldHeadlines")!=e.articles&&localStorage.setItem("worldHeadlines",JSON.stringify({data:e})),localStorage.getItem("technology")!=e.articles&&"technology"==apiQuery&&localStorage.setItem("technology",JSON.stringify({data:e})),localStorage.getItem("politics")!=e.articles&&"politics"==apiQuery&&localStorage.setItem("politics",JSON.stringify({data:e})),localStorage.getItem("entertainment")!=e.articles&&"entertainment"==apiQuery&&localStorage.setItem("entertainment",JSON.stringify({data:e})),localStorage.getItem("popular_usa")!=e.articles&&"country=us"==country&&localStorage.setItem("popular_usa",JSON.stringify({data:e})),localStorage.getItem("popular_uk")!=e.articles&&"country=gb"==country&&localStorage.setItem("popular_uk",JSON.stringify({data:e})),localStorage.getItem("popular_ie")!=e.articles&&"country=ie"==country&&localStorage.setItem("popular_ie",JSON.stringify({data:e})),localStorage.getItem("search")!=e.articles&&""!=searchValue&&(localStorage.setItem("search",JSON.stringify({data:e})),localStorage.setItem("searchQuery",JSON.stringify({searchValue:searchValue})));try{for(let a=0;a<dataSize;a++){let t=e.articles[a].title,l=e.articles[a].urlToImage,r=e.articles[a].description,c=e.articles[a].publishedAt;$(".card-deck").append($("<div class='card'><img class='card-img-top' src='"+l+"' alt='Card image cap'> <div class='card-body'><h5 class='card-title'>'"+t+"'</h5><hr/><p class='card-text'>'"+r+"'</p><a data-toggle='modal' data-target='#exampleModal' class='card-text-sm' id="+a+"> See More </a></div><div class='card-footer'><small class='text-muted'>Published : '"+c+"'</small></div>")).hide().fadeIn(500)}$(".c-news-moreHeadlines").html("<button class='c-news-seemore-button btn-outline-dark btn' id='more' type='submit'> More Headlines </button>"),$(".card-text-sm").click(function(){var t=$(this).attr("id");console.log(t);for(let l=0;l<dataSize;l++){let r=e.articles[l].content,c=(e.articles[l].description,e.articles[l].title);t==a[l]&&$(".modal-body, .modal-title").empty().promise().then(function(){$(".modal-body").append("<p>"+r+"</p>"),$(".modal-title").append(c)})}}),$(".c-news-moreHeadlines, .c-news-card-title").show(0),"&pageSize=3"!=pageSize?$(".c-news-moreHeadlines").hide():$(".c-news-moreHeadlines").show()}catch(e){$(".c-news-moreHeadlines, .c-news-card-title").hide(0),$(".c-news-card").append("<h2 class='error-text'> No results for this news could be found </h2>").hide().fadeIn(200),$(".c-news-card").append(svg),setTimeout(function(){$(".error-text, .error-text-svg").fadeOut(200).remove()},4e3)}},fail:function(){alert("Error locating News Stories, please try again later")}})}$(document).ready(function(){if(navigator.onLine)newsRequest();else if(null!=localStorage.getItem("worldHeadlines")){var e=JSON.parse(localStorage.getItem("worldHeadlines"));console.dir(e);for(let a=0;a<dataSize;a++){let t=e.data.articles[a].title,l=(e.data.articles[a].urlToImage,e.data.articles[a].description),r=e.data.articles[a].publishedAt;console.log(t),$(".card-deck").append($("<div class='card'><img class='card-img-top' src='"+offlineSVG+"' alt='Card image cap'> <div class='card-body'><h5 class='card-title'>'"+t+"'</h5><hr/><p class='card-text'>'"+l+"'</p><a data-toggle='modal' data-target='#exampleModal' class='card-text-sm' id="+a+"> See More </a></div><div class='card-footer'><small class='text-muted'>Published : '"+r+"'</small></div>")).hide().fadeIn(500)}}else $(".c-news-card-title").prepend('<h1 class="error-text"> No offline news data is available for this topic </h1>'),$(".error-text").delay(1e3).fadeOut(500)}),$("#searchInput").focusin(function(){localStorage.getItem("return_user")?$(".tool-tip").hide():$(".c-news-card-tool-tip").html('<div class="tool-tip"> <p> Enter a Topic, Place or Person to get the most up-to-date news!  </p> </div>'),$("#Search").click(function(){$(".tool-tip").slideUp(800),accept()})}),$("#searchInput").focusout(function(){$(".tool-tip").hide()}),$(".c-news-moreHeadlines").click(function(){$(function(){dataSize=6,pageSize="&pageSize=6"}).promise().then(function(){$(".card").fadeOut(500),setTimeout(newsRequest,500)})}),$(".navbar-brand").click(function(){location.reload()}),$("#Search").click(function(){if(event.preventDefault(),navigator.onLine)searchValue=$(".c-news-search").val(),apiQuery=searchValue,topic=searchValue+" Headlines",category="everything?q=",dataSize=3,pageSize="&pageSize=3",country="",$(".c-news-card-dropdown").hide(),""!=searchValue&&$(".card").fadeOut(800).promise().then(function(){newsRequest()});else{let a=JSON.parse(localStorage.getItem("search"));var e=JSON.parse(localStorage.getItem("searchQuery"));if(searchValue=$(".c-news-search").val(),$(".c-news-card-dropdown").hide(),searchValue===e.searchValue){$(".c-news-card-title").html(searchValue);for(let e=0;e<dataSize;e++){let t=a.data.articles[e].title,l=(a.data.articles[e].urlToImage,a.data.articles[e].description),r=a.data.articles[e].publishedAt;console.log(t),$(".card").fadeOut(800).promise().then(function(){$(".card-deck").append($("<div class='card'><img class='card-img-top' src='"+offlineSVG+"' alt='Card image cap'> <div class='card-body'><h5 class='card-title'>'"+t+"'</h5><hr/><p class='card-text'>'"+l+"'</p><a data-toggle='modal' data-target='#exampleModal' class='card-text-sm' id="+e+"> See More </a></div><div class='card-footer'><small class='text-muted'>Published : '"+r+"'</small></div>")).hide().fadeIn(500)})}}else $(".c-news-card").prepend('<h1 class="error-text"> No offline news data is available for this topic </h1>'),$(".error-text").delay(1e3).fadeOut(500)}}),$("#Home").click(function(){if(navigator.onLine)category="everything?q=",country="",apiQuery="everything",topic="World Headlines",pageSize="&pageSize=3",dataSize=3,searchValue="",console.log(apiQuery),$(".c-news-card-dropdown").hide(),$(".card").fadeOut(800).promise().then(function(){newsRequest()});else if(null!=localStorage.worldHeadlines){topic="World Headlines",$(".c-news-card-title").html(topic);var e=JSON.parse(localStorage.getItem("worldHeadlines"));console.dir(e),$(".c-news-card-dropdown").hide();for(let a=0;a<dataSize;a++){let t=e.data.articles[a].title,l=(e.data.articles[a].urlToImage,e.data.articles[a].description),r=e.data.articles[a].publishedAt;console.log(t),$(".card").fadeOut(800).promise().then(function(){$(".card-deck").append($("<div class='card'><img class='card-img-top' src='"+offlineSVG+"' alt='Card image cap'> <div class='card-body'><h5 class='card-title'>'"+t+"'</h5><hr/><p class='card-text'>'"+l+"'</p><a data-toggle='modal' data-target='#exampleModal' class='card-text-sm' id="+a+"> See More </a></div><div class='card-footer'><small class='text-muted'>Published : '"+r+"'</small></div>")).hide().fadeIn(500)})}}else $(".c-news-card-title").prepend('<h1 class="error-text"> No offline news data is available for this topic </h1>'),$(".error-text").delay(1e3).fadeOut(500)}),$("#Popular").click(function(){if(navigator.onLine)category="",apiQuery="top-headlines?",topic="Most Popular - United States",pageSize="&pageSize=3",country="country=us",dataSize=3,searchValue="",console.log(apiQuery),$(".c-news-card-dropdown").html($("<div class='c-news-card-dropdown-selects'><select class='c-news-card-dropdown-selects-value'><option value='country=us'>United States</option><option value='country=gb'>United Kingdom</option><option value='country=ie'>Ireland</option></select></div>")).fadeIn(2e3),$(".card").fadeOut(800).promise().then(function(){newsRequest()}),$(".c-news-card-dropdown-selects-value").on("change",function(){var e=$(".c-news-card-dropdown-selects-value").find(":selected").val(),a=$(".c-news-card-dropdown-selects-value").find(":selected").text();console.log(e,a),category="",apiQuery="top-headlines?",topic="Most Popular - "+a+" ",pageSize="&pageSize=3",country=e,dataSize=3,$(".card").fadeOut(800).promise().then(function(){newsRequest()})});else if(null!=localStorage.popular_usa){$(".c-news-card-dropdown").html($("<div class='c-news-card-dropdown-selects'><select class='c-news-card-dropdown-selects-value'><option value='country=us'>United States</option><option value='country=gb'>United Kingdom</option><option value='country=ie'>Ireland</option></select></div>")).fadeIn(2e3),topic="Most Popular - United States",$(".c-news-card-title").html(topic);var e=JSON.parse(localStorage.getItem("popular_usa"));console.dir(e);for(let a=0;a<dataSize;a++){let t=e.data.articles[a].title,l=(e.data.articles[a].urlToImage,e.data.articles[a].description),r=e.data.articles[a].publishedAt;console.log(t),$(".card").fadeOut(800).promise().then(function(){$(".card-deck").append($("<div class='card'><img class='card-img-top' src='"+offlineSVG+"' alt='Card image cap'> <div class='card-body'><h5 class='card-title'>'"+t+"'</h5><hr/><p class='card-text'>'"+l+"'</p><a data-toggle='modal' data-target='#exampleModal' class='card-text-sm' id="+a+"> See More </a></div><div class='card-footer'><small class='text-muted'>Published : '"+r+"'</small></div>")).hide().fadeIn(500)})}$(".c-news-card-dropdown-selects-value").on("change",function(){var e=$(".c-news-card-dropdown-selects-value").find(":selected").val();switch(country=e,console.log(country),country){case"country=us":topic="Most Popular - United States",$(".c-news-card-title").html(topic);var a=JSON.parse(localStorage.getItem("popular_usa"));console.dir(a);for(let e=0;e<dataSize;e++){let t=a.data.articles[e].title,l=(a.data.articles[e].urlToImage,a.data.articles[e].description),r=a.data.articles[e].publishedAt;console.log(t),$(".card").fadeOut(800).promise().then(function(){$(".card-deck").append($("<div class='card'><img class='card-img-top' src='"+offlineSVG+"' alt='Card image cap'> <div class='card-body'><h5 class='card-title'>'"+t+"'</h5><hr/><p class='card-text'>'"+l+"'</p><a data-toggle='modal' data-target='#exampleModal' class='card-text-sm' id="+e+"> See More </a></div><div class='card-footer'><small class='text-muted'>Published : '"+r+"'</small></div>")).hide().fadeIn(500)})}break;case"country=gb":if(null!=localStorage.popular_uk){topic="Most Popular - United Kingdom",$(".c-news-card-title").html(topic);var t=JSON.parse(localStorage.getItem("popular_uk"));console.dir(t);for(let e=0;e<dataSize;e++){let a=t.data.articles[e].title,l=(t.data.articles[e].urlToImage,t.data.articles[e].description),r=t.data.articles[e].publishedAt;console.log(a),$(".card").fadeOut(800).promise().then(function(){$(".card-deck").append($("<div class='card'><img class='card-img-top' src='"+offlineSVG+"' alt='Card image cap'> <div class='card-body'><h5 class='card-title'>'"+a+"'</h5><hr/><p class='card-text'>'"+l+"'</p><a data-toggle='modal' data-target='#exampleModal' class='card-text-sm' id="+e+"> See More </a></div><div class='card-footer'><small class='text-muted'>Published : '"+r+"'</small></div>")).hide().fadeIn(500)})}}break;case"country=ie":if(null!=localStorage.popular_ie){topic="Most Popular - Ireland",$(".c-news-card-title").html(topic);var l=JSON.parse(localStorage.getItem("popular_ie"));console.dir(l);for(let e=0;e<dataSize;e++){let a=l.data.articles[e].title,t=(l.data.articles[e].urlToImage,l.data.articles[e].description),r=l.data.articles[e].publishedAt;console.log(a),$(".card").fadeOut(800).promise().then(function(){$(".card-deck").append($("<div class='card'><img class='card-img-top' src='"+offlineSVG+"' alt='Card image cap'> <div class='card-body'><h5 class='card-title'>'"+a+"'</h5><hr/><p class='card-text'>'"+t+"'</p><a data-toggle='modal' data-target='#exampleModal' class='card-text-sm' id="+e+"> See More </a></div><div class='card-footer'><small class='text-muted'>Published : '"+r+"'</small></div>")).hide().fadeIn(500)})}}}})}else $(".c-news-card-title").prepend('<h1 class="error-text"> No offline news data is available for this topic </h1>'),$(".error-text").delay(1e3).fadeOut(500)}),$("#Tech").click(function(){if(navigator.onLine)country="",category="everything?q=",apiQuery="technology",topic="Technology Headlines",pageSize="&pageSize=3",dataSize=3,searchValue="",console.log(apiQuery),$(".c-news-card-dropdown").hide(),$(".card").fadeOut(800).promise().then(function(){newsRequest()});else if(null!=localStorage.technology){topic="Technology Headlines",$(".c-news-card-title").html(topic);var e=JSON.parse(localStorage.getItem("technology"));console.dir(e),$(".c-news-card-dropdown").hide();for(let a=0;a<dataSize;a++){let t=e.data.articles[a].title,l=(e.data.articles[a].urlToImage,e.data.articles[a].description),r=e.data.articles[a].publishedAt;console.log(t),$(".card").fadeOut(800).promise().then(function(){$(".card-deck").append($("<div class='card'><img class='card-img-top' src='"+offlineSVG+"' alt='Card image cap'> <div class='card-body'><h5 class='card-title'>'"+t+"'</h5><hr/><p class='card-text'>'"+l+"'</p><a data-toggle='modal' data-target='#exampleModal' class='card-text-sm' id="+a+"> See More </a></div><div class='card-footer'><small class='text-muted'>Published : '"+r+"'</small></div>")).hide().fadeIn(500)})}}else $(".c-news-card-title").prepend('<h1 class="error-text"> No offline news data is available for this topic </h1>'),$(".error-text").delay(1e3).fadeOut(500)}),$("#Politics").click(function(){if(navigator.onLine)country="",category="everything?q=",apiQuery="politics",topic="Politics Headlines",pageSize="&pageSize=3",dataSize=3,searchValue="",console.log(apiQuery),$(".c-news-card-dropdown").hide(),$(".card").fadeOut(800).promise().then(function(){newsRequest()});else if(null!=localStorage.politics){topic="Politics Headlines",$(".c-news-card-title").html(topic);var e=JSON.parse(localStorage.getItem("politics"));console.dir(e),$(".c-news-card-dropdown").hide();for(let a=0;a<dataSize;a++){let t=e.data.articles[a].title,l=(e.data.articles[a].urlToImage,e.data.articles[a].description),r=e.data.articles[a].publishedAt;console.log(t),$(".card").fadeOut(800).promise().then(function(){$(".card-deck").append($("<div class='card'><img class='card-img-top' src='"+offlineSVG+"' alt='Card image cap'> <div class='card-body'><h5 class='card-title'>'"+t+"'</h5><hr/><p class='card-text'>'"+l+"'</p><a data-toggle='modal' data-target='#exampleModal' class='card-text-sm' id="+a+"> See More </a></div><div class='card-footer'><small class='text-muted'>Published : '"+r+"'</small></div>")).hide().fadeIn(500)})}}else $(".c-news-card-title").prepend('<h1 class="error-text"> No offline news data is available for this topic </h1>'),$(".error-text").delay(1e3).fadeOut(500)}),$("#Entertainment").click(function(){if(navigator.onLine)country="",category="everything?q=",apiQuery="entertainment",topic="Entertainment Headlines",pageSize="&pageSize=3",dataSize=3,searchValue="",console.log(apiQuery),$(".c-news-card-dropdown").hide(),$(".card").fadeOut(800).promise().then(function(){newsRequest()});else if(null!=localStorage.technology){topic="Entertainment Headlines",$(".c-news-card-title").html(topic);var e=JSON.parse(localStorage.getItem("entertainment"));console.dir(e),$(".c-news-card-dropdown").hide();for(let a=0;a<dataSize;a++){let t=e.data.articles[a].title,l=(e.data.articles[a].urlToImage,e.data.articles[a].description),r=e.data.articles[a].publishedAt;console.log(t),$(".card").fadeOut(800).promise().then(function(){$(".card-deck").append($("<div class='card'><img class='card-img-top' src='"+offlineSVG+"' alt='Card image cap'> <div class='card-body'><h5 class='card-title'>'"+t+"'</h5><hr/><p class='card-text'>'"+l+"'</p><a data-toggle='modal' data-target='#exampleModal' class='card-text-sm' id="+a+"> See More </a></div><div class='card-footer'><small class='text-muted'>Published : '"+r+"'</small></div>")).hide().fadeIn(500)})}}else $(".c-news-card-title").prepend('<h1 class="error-text"> No offline news data is available for this topic </h1>'),$(".error-text").delay(1e3).fadeOut(500)});var svg='<div class="error-text-svg"><svg width="400" height="400" viewBox="0 0 250 250"><g id="Artboard" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><circle id="Oval" fill="#F46363" fill-rule="nonzero" cx="125" cy="125" r="120"></circle><rect id="Rectangle" fill="#FFFFFF" fill-rule="nonzero" x="59" y="29" width="132" height="191"></rect><g id="Story" transform="translate(70.000000, 54.000000)" fill="#D8D8D8" fill-rule="nonzero"><rect id="Rectangle-2" x="0" y="0" width="110" height="4.53488372"></rect><rect id="Rectangle-2" x="41.8181818" y="9.06976744" width="68.1818182" height="4.53488372"></rect><rect id="Rectangle-2" x="41.8181818" y="18.1395349" width="68.1818182" height="4.53488372"></rect><rect id="Rectangle-2" x="41.8181818" y="26.3023256" width="68.1818182" height="4.53488372"></rect><rect id="Rectangle-2" x="41.8181818" y="34.4651163" width="68.1818182" height="4.53488372"></rect><rect id="Rectangle-3" x="0" y="9.06976744" width="37.2727273" height="29.9302326"></rect></g><g id="Story" transform="translate(125.000000, 135.500000) rotate(-180.000000) translate(-125.000000, -135.500000) translate(70.000000, 116.000000)" fill="#D8D8D8" fill-rule="nonzero"><rect id="Rectangle-2" x="0" y="0" width="110" height="4.53488372"></rect><rect id="Rectangle-2" x="41.8181818" y="9.06976744" width="68.1818182" height="4.53488372"></rect><rect id="Rectangle-2" x="41.8181818" y="18.1395349" width="68.1818182" height="4.53488372"></rect><rect id="Rectangle-2" x="41.8181818" y="26.3023256" width="68.1818182" height="4.53488372"></rect><rect id="Rectangle-2" x="41.8181818" y="34.4651163" width="68.1818182" height="4.53488372"></rect><rect id="Rectangle-3" x="0" y="9.06976744" width="37.2727273" height="29.9302326"></rect></g><g id="Story" transform="translate(125.815193, 179.479779) rotate(-180.000000) translate(-125.815193, -179.479779) translate(71.000000, 160.000000)" fill="#D8D8D8" fill-rule="nonzero"><rect id="Rectangle-2" x="0" y="0" width="109.630387" height="4.53018126"></rect><rect id="Rectangle-2" x="0" y="9.06036253" width="109.630387" height="4.53018126"></rect><rect id="Rectangle-2" x="0" y="18.1207251" width="109.630387" height="4.53018126"></rect><rect id="Rectangle-2" x="0" y="26.2750513" width="109.630387" height="4.53018126"></rect><rect id="Rectangle-2" x="0" y="34.4293776" width="109.630387" height="4.53018126"></rect></g><text id="NEWS-GONE-MISSING!" font-family="LucidaGrande-Bold, Lucida Grande" font-size="12" font-weight="bold" letter-spacing="-1.10000002" fill="#6C749B"><tspan x="69" y="48">NEWS GONE MISSING!</tspan></text><text id="LOCAL-WEB-DEVELOPER" font-family="LucidaGrande-Bold, Lucida Grande" font-size="9" font-weight="bold" letter-spacing="-1.10000002" fill="#6C749B"><tspan x="63" y="109">LOCAL WEB DEVELOPER BLAMED!</tspan></text></g></svg></div>';